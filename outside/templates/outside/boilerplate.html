<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="x-ua-compatible" content="ie=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
		<meta name="author" content="CDSP + Medialab Sciences-Po" />
		<meta name="copyright" content="Licensed under GPL" />
		<meta name="description" content="" />

		<title>{% block title %}Reanalyse{% endblock %}</title>

		<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/fonts.css">
		<link rel="stylesheet/less" type="text/css" href="{{ STATIC_URL }}css/style.less">
		<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/timeline.css">

		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.css" />
		<!--[if lte IE 8]>
		    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.ie.css" />
		<![endif]-->

		<script src="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.js"></script>

		
		<script src="{{ STATIC_URL }}js/less-1.3.0.min.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/jquery-1.7.1.min.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/bootstrap.min.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/jquery.cleditor.min.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/jquery.toastmessage.js" type="text/javascript"></script>


		<script>
		// Edit to suit your needs.
		var ADAPT_CONFIG = {
		  // Where is your CSS?
		  path: '{{ STATIC_URL }}css/adapt/',

		  // false = Only run once, when page first loads.
		  // true = Change on window resize and page tilt.
		  dynamic: true,

		  // Optional callback... myCallback(i, width)
		  // callback: myCallback,

		  // First range entry is the minimum.
		  // Last range entry is the maximum.
		  // Separate ranges by "to" keyword.
		  range: [
		    '0px    to 760px  = mobile.css',
		    '760px  to 980px  = 720.css',
		    '980px            = 960.css'
		  ]
		};
		</script>
		<script src="{{ STATIC_URL }}js/adapt.min.js" type="text/javascript"></script>

		{% block head %}

		{% endblock %}
	</head>
	<body  data-spy="scroll" data-target=".navbar">
		{% block body %}

		{% endblock %}
		<!-- script type="text/javascript">
			
			var ds = ds || {}; ds.fn = ds.fn || {}; ds.vars = ds.vars || {}; ds.magic = ds.magic || {}; ds.magic.api = ds.magic.api || {};
			
			

			/*
			
			    COMMON fn
			    =========
			*/
			ds.fn.slug = function( sluggable ){return sluggable.replace(/[^a-zA-Z 0-9-]+/g,'').toLowerCase().replace(/\s/g,'-');};
			ds.fn.get_cookie = function (e){var t=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=jQuery.trim(n[r]);if(i.substring(0,e.length+1)==e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}}return t};
			ds.fn.urlfill = function(e,t){t=t||{0:"23",zz:"en"};for(var n in t){e=e.replace("/"+n+"/","/"+t[n]+"/")}return e}

			/*
			
			    MAGIC fn
			    ========
			*/
			ds.magic.header = { element:$("header"), is_hidden:false, threshold:40, timer:0 };
			ds.magic.header.onscroll = function(){
				clearTimeout( ds.magic.header.timer );
				if (ds.magic.header.is_hidden && $(window).scrollTop() == 0 ){
					return ds.magic.header.show();
				}
				
				ds.magic.header.timer = setTimeout( ds.magic.header.show, 1000 );

				if (ds.magic.header.is_hidden){ return; };
				ds.magic.header.is_hidden = true;
				ds.magic.header.element.css("top", -1*ds.magic.header.threshold );
				

			}
			ds.magic.header.show = function(){
				clearTimeout( ds.magic.header.timer );
				ds.magic.header.is_hidden = false;
				ds.magic.header.element.css("top", 0 );
			}

			ds.magic.sidebar = {  is_hidden:false, element:$("sidebar") };
			ds.magic.sidebar.collapse = function(){
				ds.magic.sidebar.element.addClass("collapsed");
				$("#collapse-menu").hide();
				$("#expand-menu").show();
				
			}
			ds.magic.sidebar.expand = function(){
				ds.magic.sidebar.element.removeClass("collapsed");
				$("#collapse-menu").show();
				$("#expand-menu").hide();
			}
			ds.magic.sidebar.init = function(){
				$("#collapse-menu").click( ds.magic.sidebar.collapse );
				$("#expand-menu").click( ds.magic.sidebar.expand );

			}



			
			/*
			
			    API ajax callers
			    ================
			*/
			ds.api = {}

			ds.api.get_bean = function( params, callback ){
				// ds.urls.get_bean = 

			}


			$(window).on('scroll', function(){
				ds.magic.header.onscroll();
			});

			
			ds.tooltip = {}
			ds.tooltip.init = function(){
				$('body').tooltip({
			    	selector:'[rel=tooltip]',
			    	animation: false,
			    	placement: function( tooltip, caller ){ var placement = $(caller).attr('data-tooltip-placement'); return typeof placement != "undefined"? placement: 'top'; } 	// string|function	'top'	how to position the tooltip - top | bottom | left | right
				});

			}

			ds.editor = { edit:{} }
			/* 
				edit page section handler. load bean content inside bean modifier.
			*/
			ds.editor.edit.bean = function( event ){
				ds.api.get_bean();
			}
			ds.editor.init = function(){
				$("section a.edit-mode").click( ds.editor.edit.section );
				$("#id_page_title_en").on('keyup', function( event ){ console.log(event); $("#id_page_slug").val( ds.fn.slug( $("#id_page_title_en").val() ) ) });
			}

			$(document).ready(function(){
				oo.api.init();

				ds.vars.csrftoken = ds.fn.get_cookie('csrftoken');
				
				$.ajaxSetup({
				    crossDomain: false, // obviates need for sameOrigin test
				    beforeSend: function(xhr, settings) { if (!(/^(GET|HEAD|OPTIONS|TRACE)$/.test(settings.type))){ xhr.setRequestHeader("X-CSRFToken", ds.vars.csrftoken);}}
				});

				ds.magic.sidebar.init();
				ds.tooltip.init();
				ds.editor.init();

				$(".modal").each( function( i, el ){ var $el = $(el); $(el).css("margin-top",- Math.round( $(el).height() / 2 )); })
			});

			




		</script -->
		<script src="{{ STATIC_URL }}js/outside.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/outside/sidebar.js" type="text/javascript"></script>
		<script src="{{ STATIC_URL }}js/outside/glue.js" type="text/javascript"></script>


		<script type="text/javascript">
		$(document).ready(function(){
			oo.api.init();
			oo.modals.init();
			oo.tooltip.init();
			oo.sidebar.init();
			
		});

		</script>

	</body>
</html>